var Ad = Ad || {};Ad.dom = Ad.dom || {};Ad.config = Ad.config || {};Ad.timeline = Ad.timeline || {};  /* * * * * * * * * * * * * * * * * * *	 * TIMELINE	 */	/*	 *	Switch statement for controlling timeline of ad	 *	 *	@param whatStep Integer the step to go to	 */	Ad.timeline.doStep = function(whatStep){		Ad.log("doStep " + whatStep);		switch(whatStep){			case 1:				Ad.utils.show([Ad.dom.containerVid])				Ad.utils.goTo(2, 200);				break;			case 2 :				Ad.utils.fadeIn(Ad.dom.pageAssets, 0.5, 1);				superTween.kill360(Ad.dom.vid360);				if(Ad.config.adRunning){					var vid360H = Ad.dom.containerVid.offsetHeight;					//superTween.run360(Ad.dom.vid360, 'infinite', {numSteps: 34, stepSize: vid360H, interval: 70});					Ad.config.is360Playing = true;				}				if(Ad.config.canAutoplayVideo){					Ad.log("playing BGVid");					Ad.dom[Ad.bgVid.outcome].play();				}				else {					//start bg 360					superTween.run360(Ad.dom.backup360, 1, {numSteps: 32, stepSize: 250, interval: 150});					Ad.utils.goTo(3, 5000);				}				var vid360H = Ad.dom.containerVid.offsetHeight;				superTween.run360(Ad.dom.vid360, 'infinite', {numSteps: 34, stepSize: vid360H, interval: 70});				//Ad.utils.goTo(3, 1000);				break;			case 3 :				//triggered on video end				Ad.utils.goTo(100, 100);				break;			case 100 :				Ad.timeline.killAll();				clearTimeout(Ad.timeline.traceTimer);				Ad.log("ad completed in "+(Ad.timeline.curTime/1000)+"s")				break;		}	}	Ad.timeline.killAll = function(){		Ad.log("killAll");		Ad.config.adRunning = false;		Ad.dom.containerVid.style.display = "block";		Ad.dom.containerVid.style.opacity = "1";		Ad.bgVid.playToggle("pause");		clearTimeout(Ad.timeline.traceTimer);		superTween.killAll();		Ad.dom.containerVid.style.opacity = 1;		Ad.dom.titleContainer.style.opacity = 1;		Ad.dom.txContainer.style.opacity = 1;		Ad.dom.logo.style.opacity = 1;		var endElem = document.getElementsByClassName('endAsset');		Ad.utils.alpha(1, endElem);	}	Ad.timeline.traceTime = function(){		Ad.timeline.curTime += 100;		Ad.timeline.traceTimer = setTimeout(Ad.timeline.traceTime, 100);	}