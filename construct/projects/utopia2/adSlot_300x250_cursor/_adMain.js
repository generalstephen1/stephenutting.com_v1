var Ad = Ad || {};	// global ad config	Ad.config = {		width: 300,		height: 250,		debugMode: true,		adRunning: true,		mouseChaseSetupData: ""	};	// all dom elements in here please	Ad.dom = Ad.dom || {};	//classes - eyeMove, eyeBreakup, etc	Ad.class = Ad.class || {};	Ad.start = function(){		Ad.log("Ad.start");		imagesLoaded( document.querySelectorAll('img'), function(instance){			stopAndHideLoader();			//do the ad			Ad.init();			Ad.doStep(1);		});	}	Ad.init = function(){		//set up objects		Ad.mouseChase = new Ad.class.MouseChase();		//Ad.eyeBreakdown = new Ad.class.EyeBreakdown();		//Ad.dateLogic = new Ad.class.DateLogic();		//set up dom objects for overall class divs		Ad.dom.mouseChase = document.getElementById('mouseChase');		Ad.dom.eyeBreakdown = document.getElementById('eyeBreakdown');		Ad.dom.endFrame = document.getElementById('endFrame');		//misc		Ad.dom.slicesHolder = document.getElementById('slicesHolder');		Ad.dom.coverallBtn = document.getElementById('adMain');		//endframe's		Ad.dom.strapline = document.getElementById('strapline');		Ad.dom.lockup = document.getElementById('lockup');		//tx's		Ad.dom.txDoubleBill = document.getElementById('txDoubleBill');		Ad.dom.txStartsTomorrow = document.getElementById('txStartsTomorrow');		Ad.dom.txStartsTonight = document.getElementById('txStartsTonight');		Ad.dom.txTonight = document.getElementById('txTonight');		//ctas		Ad.dom.ctaExperience = document.getElementById('ctaExperience');		Ad.dom.ctaBip = document.getElementById('ctaBip');		//Ad.dateLogic.setUpCta();		//set up a specific exit for the web experience		/*Ad.dom.ctaExperience.addEventListener('click', function(){			Ad.killAll();			Enabler.exit('experienceExit');		});		*/		//set up default exit		Ad.dom.coverallBtn.addEventListener('click', function(){			//console.log("exitToBip")			Ad.killAll();			Enabler.exit("bipExit")		});	}	Ad.doStep = function(whatStep){		Ad.log("[----]whatStep = "+whatStep);		switch(whatStep){			case 1:				//do eye movement				Ad.mouseChase.start();				//Ad.goTo(2, 3000);			break;		}	}	Ad.goTo = function(step, duration){		stepTimer = setTimeout(function(){			if (Ad.config.adRunning){				Ad.doStep(step);			}		}, duration);	}	Ad.killAll = function(){		//stop stepTimer		Ad.config.adRunning = false;		//stop/hide mousechase		Ad.mouseChase.stop();		//Ad.mouseChase.hide();		//stop/hide eyebreakdown		//Ad.eyeBreakdown.stop();		//Ad.eyeBreakdown.hide();		//show endframe immeditely		//Ad.dom.endFrame.style.display = "block";		//Ad.dom.strapline.style.opacity = 1;		//Ad.dom.lockup.style.opacity = 1;		//Ad.dom['tx' + Ad.dateLogic.txId].style.opacity = 1;		//Ad.dom.ctaBip.style.opacity = 1;		//if (Ad.dateLogic.showExperience){		//	Ad.dom.ctaExperience.style.opacity = 1;		//}	}	Ad.log = function(message){		if (Ad.config.debugMode){			//console.log("[----] "+message);		}	}	mouseChaseSetup = function(e){		Ad.log("mouseChaseSetup: "+e.data);		window.removeEventListener('message', mouseChaseSetup, false);		Ad.config.mouseChaseSetupData = e;	}	if (!Enabler.isInitialized()) {		 Ad.log("[----]waiting for enabler")		 Enabler.addEventListener(studio.events.StudioEvent.INIT, Ad.start);	} else {		Ad.start();	}	window.addEventListener('message', mouseChaseSetup, false);