/*! All4 0.0.1 10-12-2015 */
var superTween = {
        fn: {},
        delayed: [],
        useCSS: !1,
        availAttr: ["opacity", "x", "y", "scaleY", "scaleX", "rotate"]
    },
    JSTween = {
        updateRate: 30,
        loopTimer: null,
        curAnims: []
    };
superTween.init = function() {
    if (domPrefixes = "Webkit Moz ms O".split(" "), elem = document.createElement("div"), void 0 !== elem.style.transition && (superTween.useCSS = !0), superTween.useCSS === !1) {
        featurenameCapital = "Transition";
        for (var a = 0; a < domPrefixes.length; a++)
            if (void 0 !== elem.style[domPrefixes[a] + featurenameCapital]) {
                superTween.useCSS = !0;
                break
            }
    }
}, superTween.superLoop = function(a, b, c) {
    superLoop && superLoop.runSuperLoop(a, b, c)
}, superTween.killSuperLoop = function(a) {
    superLoop && superLoop.killSuperLoop(a)
}, superTween.delayLoop = function() {
    console.log("delayLoop")
}, superTween.to = function(a, b, c) {
    if ("object" == typeof a) {
        b = 1e3 * b, c.delay = 1e3 * c.delay, a.style && (a.style.transformOrigin = c.transformOrigin || "50% 50%", a.style.webkitTransformOrigin = c.transformOrigin || "50% 50%", a.style.mozTransformOrigin = c.transformOrigin || "50% 50%");
        var d = superTween.fn.setupTween(a, b, c);
        superTween.useCSS && CSSTween ? CSSTween.applyCSSTransition(d) : (JSTween.curAnims.push(d), JSTween.loopTimer || (JSTween.loopTimer = setTimeout(JSTween.tweenLoop, JSTween.updateRate)))
    }
}, superTween.set = function(a, b) {
    for (var c = 0; c < a.length; c++)
        for (var d in b) {
            var e = {
                attr: d
            };
            JSTween.setPos(a[c], e, b[d])
        }
}, superTween.killAll = function() {
    clearTimeout(JSTween.loopTimer), JSTween.curAnims = [];
    for (var a in CSSTween.curAnims)
        for (var b in CSSTween.tweenStyles) CSSTween.curAnims[a].elem.style[b] = null;
    superLoop && superLoop.killAllSuperLoop()
}, superTween.fn.setupTween = function(a, b, c) {
    c.ease || (c.ease = "Sine.easeInOut");
    var d = c.ease.split("."),
        e = "";
    e = superTween.useCSS ? CSSEase[d[0]][d[1]] : JSEase[d[0]][d[1]];
    var f = {
        attr: superTween.fn.getAttr(a, c),
        elem: a,
        ease: e,
        rawObj: c,
        rawTime: b,
        rawDelay: c.delay,
        d: Math.floor(b / JSTween.updateRate),
        delaySteps: Math.floor(c.delay / JSTween.updateRate),
        curDel: !1,
        curDelStep: 0,
        t: 0,
        onComplete: c.onComplete,
        onCompleteParams: c.onCompleteParams
    };
    return f.delaySteps > 0 && (f.curDel = !0), f
}, superTween.fn.getAttr = function(a, b) {
    for (var c = [], d = 0; d < superTween.availAttr.length; d++) {
        var e = superTween.availAttr[d],
            f = {};
        f.attr = superTween.availAttr[d], null !== b[e] && void 0 !== b[e] ? (f.b = superTween.fn.getPos(a, f.attr, b[f.attr]), f.c = superTween.fn.getTarg(f.attr, b[f.attr], f.b, a), c.push(f)) : ("x" === e || "y" === e) && (f.b = superTween.fn.getTarg(f.attr, b[f.attr], 0, a), f.c = f.b, c.push(f))
    }
    return c
}, superTween.fn.getPos = function(a, b, c) {
    switch (b) {
        case "x":
            return a.offsetLeft;
        case "y":
            return a.offsetTop;
        case "scaleX":
            var d = a.getAttribute("data-startW"),
                e = a.offsetWidth;
            return a.setAttribute("data-prevW", e), d || a.setAttribute("data-startW", e), e;
        case "scaleY":
            var f = a.getAttribute("data-startH"),
                g = a.offsetHeight;
            return a.setAttribute("data-prevH", g), f || a.setAttribute("data-startH", g), g;
        case "opacity":
            return "getComputedStyle" in window ? parseInt(window.getComputedStyle(a, null).getPropertyValue("opacity")) : c > 0 ? 0 : 1;
        case "rotate":
            if ("getComputedStyle" in window) {
                var h = window.getComputedStyle(a, null),
                    i = h.getPropertyValue("-webkit-transform") || h.getPropertyValue("-moz-transform") || h.getPropertyValue("-ms-transform") || h.getPropertyValue("-o-transform") || h.getPropertyValue("transform");
                if ("none" != i && i) {
                    var j = i.split("(")[1].split(")")[0].split(","),
                        k = j[0],
                        l = j[1],
                        m = (j[2], j[3], Math.sqrt(k * k + l * l), Math.round(Math.atan2(l, k) * (180 / Math.PI)));
                    return m
                }
                return 0
            }
            return c > 0 ? 0 : 180
    }
}, superTween.fn.getTarg = function(a, b, c, d) {
    return "x" == a || "y" == a || "opacity" == a || "rotate" == a ? b - c : "scaleX" == a ? b * d.getAttribute("data-startW") - c : "scaleY" == a ? b * d.getAttribute("data-startH") - c : void 0
}, JSTween.tweenLoop = function() {
    var a = JSTween.curAnims;
    for (i = 0; i < a.length; i++)
        if (a[i].curDel) a[i].curDelStep++, a[i].curDelStep > a[i].delaySteps && (a[i].curDel = !1);
        else {
            a[i].elem.style && (a[i].elem.style.transformOrigin = a[i].transformOrigin, a[i].elem.style.webkitTransformOrigin = a[i].transformOrigin, a[i].elem.style.MozTransformOrigin = a[i].transformOrigin);
            for (var b = 0; b < a[i].attr.length; b++) {
                var c = {
                        t: a[i].t,
                        d: a[i].d,
                        b: a[i].attr[b].b,
                        c: a[i].attr[b].c
                    },
                    d = a[i].ease(c);
                JSTween.setPos(a[i].elem, a[i].attr[b], d)
            }
            if (a[i].t++, a[i].t > a[i].d) {
                if (a[i].onComplete) var e = a[i].onComplete,
                    f = a[i].onCompleteParams;
                a.splice(i, 1), e && e.apply(this, f)
            }
        }
    0 != a.length ? JSTween.loopTimer = setTimeout(JSTween.tweenLoop, JSTween.updateRate) : (clearTimeout(JSTween.loopTimer), JSTween.loopTimer = null)
}, JSTween.setPos = function(a, b, c) {
    switch (b.attr) {
        case "x":
            a.style.left = c + "px";
            break;
        case "y":
            a.style.top = c + "px";
            break;
        case "scaleX":
            a.style.width = c + "px";
            break;
        case "scaleY":
            a.style.height = c + "px";
            break;
        case "opacity":
            a.style.opacity = c + "", "filters" in a && a.filters.item;
            break;
        case "rotate":
            a.style.webkitTransform = "rotate(" + c + "deg)", a.style.mozTransform = "rotate(" + c + "deg)", a.style.msTransform = "rotate(" + c + "deg)", a.style.oTransform = "rotate(" + c + "deg)", a.style.transform = "rotate(" + c + "deg)";
            break;
        case "display":
            a.style.display = c
    }
}, superTween.init();
var JSEase = {
        Expo: {},
        Quint: {},
        Quart: {},
        Cubic: {},
        Linear: {
            easeNone: function(a) {
                return a.c * a.t / a.d + a.b
            }
        },
        Sine: {
            easeIn: function(a) {
                return a.c * (1 - Math.cos(a.t / a.d * (Math.PI / 2))) + a.b
            },
            easeOut: function(a) {
                return a.c * Math.sin(a.t / a.d * (Math.PI / 2)) + a.b
            },
            easeInOut: function(a) {
                return a.c / 2 * (1 - Math.cos(Math.PI * a.t / a.d)) + a.b
            }
        },
        Elastic: {},
        Back: {
            easeOut: function(a, b) {
                return void 0 == b && (b = 1.70158), a.c * ((a.t = a.t / a.d - 1) * a.t * ((b + 1) * a.t + b) + 1) + a.b
            },
            easeIn: function(a, b) {
                return void 0 == b && (b = 1.70158), a.c * (a.t /= a.d) * a.t * ((b + 1) * a.t - b) + a.b
            },
            easeInOut: function(a, b) {
                return void 0 == b && (b = 1.70158), (a.t /= a.d / 2) < 1 ? a.c / 2 * a.t * a.t * (((b *= 1.525) + 1) * a.t - b) + a.b : a.c / 2 * ((a.t -= 2) * a.t * (((b *= 1.525) + 1) * a.t + b) + 2) + a.b
            }
        },
        Bounce: {
            easeOut: function(a) {
                return (a.t /= a.d) < 1 / 2.75 ? 7.5625 * a.c * a.t * a.t + a.b : a.t < 2 / 2.75 ? a.c * (7.5625 * (a.t -= 1.5 / 2.75) * a.t + .75) + a.b : a.t < 2.5 / 2.75 ? a.c * (7.5625 * (a.t -= 2.25 / 2.75) * a.t + .9375) + a.b : a.c * (7.5625 * (a.t -= 2.625 / 2.75) * a.t + .984375) + a.b
            }
        },
        Quad: {},
        Circ: {}
    },
    CSSTween = {
        counter: 0,
        curAnims: {},
        vendorPrefixs: ["webkit", "Moz"]
    };
CSSTween.applyCSSTransition = function(a) {
    var b = a.elem.id || "anim" + CSSTween.counter;
    if (CSSTween.curAnims[b] = a, "object" == typeof a.elem) {
        a.elem.setAttribute("data-tweenNum", "anim" + CSSTween.counter), a.elem.setAttribute("data-tweenEnd", "false"), CSSTween.counter++, CSSTween.tweenStyles = {
            top: "",
            left: "",
            width: "",
            height: "",
            opacity: "",
            transitionDuration: "",
            transitionProperty: "",
            transform: "",
            transitionTimingFunction: a.ease,
            transitionend: "",
            transitionDelay: 0
        };
        for (var c = "", d = "", e = 0; e < a.attr.length; e++) {
            var f = CSSTween.naming(a, e);
            f.transform ? d = f.transform + " " + d : CSSTween.tweenStyles[f.cssVar] = f.value, c += f.cssVar + ", "
        }
        CSSTween.tweenStyles.transform = d, CSSTween.tweenStyles.transitionDuration = a.rawTime / 1e3 + "s", CSSTween.tweenStyles.transitionProperty = c, CSSTween.tweenStyles.transitionDelay = a.rawDelay ? a.rawDelay / 1e3 + "s" : "0s", CSSTween.vendorPrefix(["transitionDelay", "transform", "transitionDuration", "transitionProperty", "transitionTimingFunction"], CSSTween.tweenStyles);
        for (var g in CSSTween.tweenStyles) CSSTween.tweenStyles[g] || 0 === CSSTween.tweenStyles[g] || (CSSTween.tweenStyles[g] = null), a.elem.style[g] = CSSTween.tweenStyles[g];
        a.elem.addEventListener("webkitTransitionEnd", CSSTween.completeHandler, !1), a.elem.addEventListener("mozTransitionEnd", CSSTween.completeHandler, !1), a.elem.addEventListener("msTransitionEnd", CSSTween.completeHandler, !1), a.elem.addEventListener("transitionend", CSSTween.completeHandler, !1)
    }
}, CSSTween.completeHandler = function(a) {
    var b = a.srcElement || a.originalTarget,
        c = b.getAttribute("data-tweenEnd");
    if ("false" == c) {
        if (b.setAttribute("data-tweenEnd", "true"), b.removeEventListener("webkitTransitionEnd", CSSTween.completeHandler, !1), b.removeEventListener("mozTransitionEnd", CSSTween.completeHandler, !1), b.removeEventListener("msTransitionEnd", CSSTween.completeHandler, !1), b.removeEventListener("transitionend", CSSTween.completeHandler, !1), b.getAttribute("data-tweenNum"), b.id) var d = CSSTween.curAnims[b.id].onComplete;
        CSSTween.transitionList = {};
        var e = ["transitionDelay", "transitionDuration", "transitionProperty", "transitionTimingFunction"];
        CSSTween.vendorPrefix(e, CSSTween.transitionList);
        for (var f = 0; f < e.length; f++) CSSTween.transitionList[e[f]] = "";
        for (var g in CSSTween.transitionList) b.style[g] = "";
        d && d.apply(this, CSSTween.curAnims[b.id].onCompleteParams), delete CSSTween.curAnims[b.id]
    }
}, CSSTween.naming = function(a, b) {
    obj = a.attr[b];
    var c = {
        cssVar: obj.attr,
        value: a.rawObj[obj.attr],
        transform: null
    };
    if ("x" == obj.attr || "y" == obj.attr || "width" == obj.attr || "height" == obj.attr) "x" == obj.attr && (c.cssVar = "left"), "y" == obj.attr && (c.cssVar = "top"), c.value += "px";
    else if ("transitionDuration" == obj.attr) c.value += "s";
    else if ("delay" == obj.attr) c.value += "s";
    else if ("rotate" == obj.attr) c.transform = obj.attr + "(" + c.value + "deg)";
    else if ("scaleX" == obj.attr || "scaleY" == obj.attr) {
        var d = a.rawObj[obj.attr];
        c.transform = obj.attr + "(" + d + ")"
    }
    return c
}, CSSTween.vendorPrefix = function(a, b) {
    for (var c = 0; c < a.length; c++)
        for (var d = 0; d < CSSTween.vendorPrefixs.length; d++) {
            var e = CSSTween.vendorPrefixs[d] + a[c].charAt(0).toUpperCase() + a[c].slice(1);
            b[e] = CSSTween.tweenStyles[a[c]]
        }
}, CSSEase = {
    Expo: {},
    Quint: {},
    Quart: {},
    Cubic: {},
    Linear: {
        easeNone: "linear"
    },
    Sine: {
        easeIn: "cubic-bezier(0.47, 0, 0.745, 0.715)",
        easeOut: "cubic-bezier(0.39, 0.575, 0.565, 1)",
        easeInOut: "cubic-bezier(0.445, 0.050, 0.550, 0.950)"
    },
    Elastic: {},
    Back: {
        easeIn: "cubic-bezier(0.6, -0.28, 0.735, 0.045)",
        easeOut: "cubic-bezier(0.175, 0.885, 0.32, 1.275)",
        easeInOut: "cubic-bezier(0.68, -0.55, 0.265, 1.55)"
    },
    Bounce: {
        easeOut: "cubic-bezier(0.765, 1.850, 0.235, 0.510)"
    },
    Quad: {},
    Circ: {}
};
var superLoop = {
    config: {
        superLoopTimers: {}
    }
};
superLoop.runSuperLoop = function(a, b, c) {
    var d = 1,
        e = 1;
    null == c.bgOffset && (c.bgOffset = 0), superLoop.config.superLoopTimers[a.id] = window.setInterval(function() {
        if (a.style.backgroundPosition = "horizontal" == c.direction ? -(c.stepSize * e) + "px " + c.bgOffset + "px" : c.bgOffset + " " + -(c.stepSize * e) + "px", e++, e == c.numSteps)
            if ("infinite" == b) a.style.backgroundPositionX = "0px", a.style.backgroundPositionY = "0px", e = 1;
            else if (b > d) a.style.backgroundPositionX = "0px", a.style.backgroundPositionY = "0px", e = 1, d++;
        else {
            if (window.clearInterval(superLoop.config.superLoopTimers[a.id]), c.onComplete) var f = c.onComplete,
                g = c.onCompleteParams;
            f && f.apply(this, g)
        }
    }, c.interval)
}, superLoop.killSuperLoop = function(a) {
    a.style.backgroundPositionY = "0px", a.style.backgroundPositionX = "0px", window.clearInterval(superLoop.config.superLoopTimers[a.id])
}, superLoop.killAllSuperLoop = function() {
    for (var a in superLoop.config.superLoopTimers) document.getElementById(a).style.backgroundPositionY = "0px", window.clearInterval(superLoop.config.superLoopTimers[a])
};
var Ad = Ad || {};
Ad.utils = Ad.utils || {}, Ad.goTo = function(a, b) {
    stepTimer = setTimeout(function() {
        Ad.config.adRunning && Ad.doStep(a)
    }, b)
}, Ad.log = function(a) {
    Ad.config.debugMode && window.console && console.log(a)
}, Ad.utils.getDomRefs = function(a) {
    for (var b = 0; b < a.length; b++) Ad.dom[a[b]] = document.getElementById(a[b])
}, Ad.utils.getDomClassRefs = function(a) {
    for (var b = 0; b < a.length; b++) Ad.dom.cls[a[b]] = document.getElementsByClassName(a[b])
}, Ad.utils.randomNum = function(a, b) {
    return Math.floor(Math.random() * (a - b) + b)
}, Ad.utils.textSlide = function(a, b, c) {
    var d, e = a.clientLeft,
        f = c || 0;
    d = "right" === b ? e - Ad.config.textSlideAmt : e + Ad.config.textSlideAmt, superTween.set([a], {
        x: d
    }), superTween.to(a, Ad.config.textTweenTime, {
        x: e,
        opacity: 1,
        delay: f,
        ease: "Sine.easeOut"
    })
}, Ad.utils.traceTime = function() {
    Ad.config.curTime += 100, Ad.config.traceTimer = setTimeout(Ad.utils.traceTime, 100)
};
var Ad = Ad || {};
Ad.timeline = Ad.timeline || {}, Ad.doStep = function(a) {
    switch (Ad.log("doStep " + a), a) {
        case 1:
            superTween.set([Ad.dom.adMain], {
                display: "block"
            }), superTween.set([Ad.dom.frame1], {
                opacity: 1
            }), superTween.to(Ad.dom.adMain, .4, {
                opacity: 1
            }), Ad.modules.setup(), Ad.goTo(2, 800);
            break;
        case 2:
            Ad.config.curTime = 0, Ad.utils.traceTime();
            var b = .4,
                c = .1,
                d = 336;
            superTween.to(Ad.dom.logoDot_ITVDot, b, {
                y: d,
                ease: "Back.easeOut"
            }), superTween.to(Ad.dom.logoDot_ITV2Dot, b, {
                y: d,
                ease: "Back.easeOut",
                delay: c
            }), superTween.to(Ad.dom.logoDot_ITVBeDot, b, {
                y: d,
                ease: "Back.easeOut",
                delay: 2 * c
            }), superTween.to(Ad.dom.logoDot_ITV3Dot, b, {
                y: d,
                ease: "Back.easeOut",
                delay: 3 * c
            }), superTween.to(Ad.dom.logoDot_ITV4Dot, b, {
                y: d,
                ease: "Back.easeOut",
                delay: 4 * c
            }), superTween.to(Ad.dom.logoDot_CITVDot, b, {
                y: d,
                ease: "Back.easeOut",
                delay: 5 * c,
                onComplete: Ad.goTo,
                onCompleteParams: [3, 500]
            });
            break;
        case 3:
            superTween.to(Ad.dom.logoDot_ITVLogoSml, .2, {
                opacity: 0
            }), superTween.to(Ad.dom.logoDot_ITVDot, 1, {
                x: 784,
                ease: "Back.easeIn",
                onComplete: Ad.goTo,
                onCompleteParams: [4, 0]
            });
            break;
        case 4:
            superTween.set([Ad.dom.logoDot_ITV2Dot, Ad.dom.logoDot_ITVBeDot, Ad.dom.logoDot_ITV3Dot, Ad.dom.logoDot_ITV4Dot, Ad.dom.logoDot_CITVDot, Ad.dom.dotMask], {
                display: "none"
            }), superTween.to(Ad.dom.logoDot_ITVDot, .7, {
                x: 345,
                ease: "Back.easeIn",
                onComplete: Ad.goTo,
                onCompleteParams: [4.1, 0]
            });
            break;
        case 4.1:
            superTween.to(Ad.dom.logoDot_ITVDot, .3, {
                y: 276,
                ease: "Back.easeOut",
                onComplete: Ad.goTo,
                onCompleteParams: [4.2, 0]
            });
            break;
        case 4.2:
            superTween.to(Ad.dom.logoDot_centerDot, .3, {
                scaleX: 1.55,
                scaleY: 1.55,
                ease: "Back.easeOut",
                onComplete: Ad.goTo,
                onCompleteParams: [5, 0]
            });
            break;
        case 5:
            superTween.to(Ad.dom.img_logoDot_ITVLogo_justDot, .7, {
                opacity: 1,
                ease: "Linear.easeNone"
            }), superTween.to(Ad.dom.img_logoDot_ITVLogo_sansDot, .7, {
                opacity: 1,
                ease: "Linear.easeNone",
                delay: .7
            }), superTween.to(Ad.dom.logoDot_radialDots, 12, {
                rotate: 120,
                ease: "Linear.easeNone"
            }), superTween.to(Ad.dom.smlLogoDot_green, Ad.config.logoDotAnimTime, {
                x: 134,
                y: 10,
                ease: "Back.easeOut"
            }), superTween.to(Ad.dom.smlLogoDot_salmon, Ad.config.logoDotAnimTime, {
                x: 242,
                y: 74,
                ease: "Back.easeOut",
                delay: Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_purple, Ad.config.logoDotAnimTime, {
                x: 242,
                y: 194,
                ease: "Back.easeOut",
                delay: 2 * Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_grey, Ad.config.logoDotAnimTime, {
                x: 134,
                y: 258,
                ease: "Back.easeOut",
                delay: 3 * Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_yellow, Ad.config.logoDotAnimTime, {
                x: 27,
                y: 194,
                ease: "Back.easeOut",
                delay: 4 * Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_maroon, Ad.config.logoDotAnimTime, {
                x: 27,
                y: 74,
                ease: "Back.easeOut",
                delay: 5 * Ad.config.logoDotDelay,
                onComplete: Ad.goTo,
                onCompleteParams: [6, 100]
            });
            break;
        case 6:
            superTween.to(Ad.dom.logoDot_centerDot, Ad.config.marquePulseTime, {
                scaleX: 1.6,
                scaleY: 1.6,
                ease: "Back.easeInOut",
                onComplete: Ad.goTo,
                onCompleteParams: [7, 0]
            }), superTween.to(Ad.dom.logoDot_ITVLogoLrg_copy, 1, {
                opacity: 1,
                ease: "Linear.easeNone"
            }), superTween.to(Ad.dom.logoDot_ITVLogoLrg_subCopy, 1, {
                opacity: 1,
                ease: "Linear.easeNone",
                delay: .5,
                onComplete: Ad.goTo,
                onCompleteParams: [8, 600]
            });
            break;
        case 7:
            superTween.to(Ad.dom.logoDot_centerDot, Ad.config.marquePulseTime, {
                scaleX: 1.55,
                scaleY: 1.55
            });
            break;
        case 8:
            superTween.to(Ad.dom.logoDot_ITVLogoLrg_subCopy, .4, {
                opacity: 0,
                ease: "Linear.easeNone"
            }), superTween.to(Ad.dom.logoDot_ITVLogoLrg_copy, .4, {
                opacity: 0,
                ease: "Linear.easeNone",
                onComplete: Ad.goTo,
                onCompleteParams: [9, 0]
            });
            break;
        case 9:
            var d = 160;
            superTween.to(Ad.dom.smlLogoDot_green, Ad.config.logoDotAnimTime, {
                x: d,
                y: d,
                ease: "Back.easeIn"
            }), superTween.to(Ad.dom.smlLogoDot_salmon, Ad.config.logoDotAnimTime, {
                x: d,
                y: d,
                ease: "Back.easeIn",
                delay: Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_purple, Ad.config.logoDotAnimTime, {
                x: d,
                y: d,
                ease: "Back.easeIn",
                delay: 2 * Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_grey, Ad.config.logoDotAnimTime, {
                x: d,
                y: d,
                ease: "Back.easeIn",
                delay: 3 * Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_yellow, Ad.config.logoDotAnimTime, {
                x: d,
                y: d,
                ease: "Back.easeIn",
                delay: 4 * Ad.config.logoDotDelay
            }), superTween.to(Ad.dom.smlLogoDot_maroon, Ad.config.logoDotAnimTime, {
                x: d,
                y: d,
                ease: "Back.easeIn",
                delay: 5 * Ad.config.logoDotDelay,
                onComplete: Ad.goTo,
                onCompleteParams: [10, 0]
            });
            break;
        case 10:
            superTween.set([Ad.dom.smlLogoDot_green, Ad.dom.smlLogoDot_salmon, Ad.dom.smlLogoDot_purple, Ad.dom.smlLogoDot_grey, Ad.dom.smlLogoDot_yellow, Ad.dom.smlLogoDot_maroon], {
                opacity: 0
            }), superTween.to(Ad.dom.img_logoDot_ITVLogo_justDot, .3, {
                opacity: 0,
                ease: "Linear.easeNone"
            }), superTween.to(Ad.dom.img_logoDot_ITVLogo_sansDot, .3, {
                opacity: 0,
                ease: "Linear.easeNone"
            }), superTween.to(Ad.dom.logoDot_centerDot, Ad.config.marquePulseTime, {
                scaleX: 1.6,
                scaleY: 1.6,
                ease: "Back.easeInOut",
                onComplete: Ad.goTo,
                onCompleteParams: [11, 0]
            });
            break;
        case 11:
            superTween.to(Ad.dom.logoDot_centerDot, Ad.config.marquePulseTime, {
                scaleX: 0,
                scaleY: 0,
                onComplete: Ad.goTo,
                onCompleteParams: [12, Ad.config.explodelength]
            });
            for (var e in Ad.dom.cls.exploDot) {
                var f = Ad.utils.randomNum(Ad.config.explodeRad[0], Ad.config.explodeRad[1]),
                    g = Ad.utils.randomNum(Ad.config.explodeRad[0], Ad.config.explodeRad[1]),
                    h = Ad.dom.cls.exploDot[e];
                superTween.to(h, .4, {
                    x: f,
                    y: g,
                    ease: "Sine.easeIn"
                })
            }
            break;
        case 12:
            superTween.to(Ad.dom.logoDot_explosionDots, .1, {
                opacity: 0,
                onComplete: Ad.goTo,
                onCompleteParams: [13, 200]
            }), superTween.set([Ad.dom.frame2], {
                opacity: 1
            });
            break;
        case 13:
            Ad.modules.changeModule(null, {
                modNum: Ad.modules.config.curMod,
                tweenSpeed: 2,
                tweenEase: "Sine.easeOut"
            }), Ad.goTo(14, 3e3);
            break;
        case 14:
            superTween.to(Ad.dom.moduleControl, .4, {
                opacity: 1,
                ease: "Linear.easeNone"
            });
            break;
        case 100:
            superTween.to(Ad.dom.endFrameTitle, .5, {
                opacity: 1,
                ease: "Linear.easeNone",
                delay: .4
            }), superTween.to(Ad.dom.endFrameSubitle, .5, {
                opacity: 1,
                ease: "Linear.easeNone",
                delay: .8
            }), Ad.log("ad (mostly) completed in " + Ad.config.curTime / 1e3 + "s");
            break;
        case 101:
            clearTimeout(Ad.config.traceTimer), Ad.log("ad completed in " + Ad.config.curTime / 1e3 + "s")
    }
}, Ad.killAll = function() {
    Ad.log("Ad.killAll"), superTween.killAll(), Ad.config.adRunning = !1, superTween.set([Ad.dom.frame2], {
        display: "none"
    }), superTween.set([Ad.dom.frame1], {
        opacity: 1,
        display: "block"
    })
};
var Ad = Ad || {};
Ad.video = Ad.video || {}, Ad.video.setup = function() {
    Ad.video.listeners()
}, Ad.video.listeners = function() {
    Ad.dom.vidHotspot_catchUp.addEventListener(Ad.config.listener, function() {
        Ad.video.clickHandler("catchUp")
    }, !1), Ad.dom.vidHotspot_boxSet.addEventListener(Ad.config.listener, function() {
        Ad.video.clickHandler("boxSet")
    }, !1), Ad.dom.vidHotspot_series.addEventListener(Ad.config.listener, function() {
        Ad.video.clickHandler("series")
    }, !1), Ad.dom.vidHotspot_live.addEventListener(Ad.config.listener, function() {
        Ad.video.clickHandler("live")
    }, !1), Ad.dom.vidHotspot_premiere.addEventListener(Ad.config.listener, function() {
        Ad.video.clickHandler("premiere")
    }, !1), Ad.dom.videoCloseIcon.addEventListener(Ad.config.listener, function() {
        Ad.video.pauseVid(), Ad.video.endVideoTracking(), Ad.video.startClose()
    }, !1), Ad.dom.bgTint.addEventListener(Ad.config.listener, function() {
        Ad.video.pauseVid(), Ad.video.endVideoTracking(), Ad.video.startClose()
    }, !1)
}, Ad.video.clickHandler = function(a) {
    if (Ad.log("playing vid " + a), Ad.config.adOnline) {
        var b = Ad.dom["video_" + a].dataset.trackingref;
        Ad.video.curVid = {
            vidElem: Ad.dom["video_" + a],
            trackingRef: b
        }, Ad.tracking[b + "_100"].firedOnce && (Ad.video.curVid.vidPlayedToEnd = !0, Ad.tracking[b + "_100"].firedOnce = !1), superTween.set([Ad.video.curVid.vidElem, Ad.dom.videoOverlay], {
            display: "block"
        }), superTween.to(Ad.dom.videoOverlay, .5, {
            opacity: 1,
            ease: "Linear.easeNone"
        }), Ad.video.curVid.vidElem.addEventListener("play", Ad.video.playbackHandler), Ad.video.curVid.vidElem.addEventListener("pause", Ad.video.playbackHandler), Ad.video.curVid.vidElem.addEventListener("ended", Ad.video.playbackHandler), Ad.video.curVid.vidElem.play()
    }
}, Ad.video.startClose = function() {
    Ad.log("closing video"), Ad.video.curVid.vidElem.removeEventListener("play", Ad.video.playbackHandler), Ad.video.curVid.vidElem.removeEventListener("pause", Ad.video.playbackHandler), Ad.video.curVid.vidElem.removeEventListener("ended", Ad.video.playbackHandler), superTween.to(Ad.dom.videoOverlay, .5, {
        opacity: 0,
        ease: "Linear.easeNone",
        onComplete: Ad.video.endClose
    })
}, Ad.video.endClose = function() {
    Ad.log("video closed"), superTween.set([Ad.dom.videoOverlay, Ad.video.curVid.vidElem], {
        display: "none"
    })
}, Ad.video.pauseVid = function() {
    Ad.video.curVid.vidElem && Ad.video.curVid.vidElem.pause()
}, Ad.video.videoEnded = function() {
    Ad.video.curVid.vidPlayedToEnd = !0, Ad.addPixel(Ad.video.curVid.trackingRef + "_100"), Ad.video.endVideoTracking(), Ad.video.startClose()
}, Ad.video.endVideoTracking = function() {
    window.clearInterval(Ad.config.timerTrackingInterval), Ad.config.timerTrackingInterval = null, Ad.tracking[Ad.video.curVid.trackingRef + "_start"].firedOnce = !1, Ad.tracking[Ad.video.curVid.trackingRef + "_25"].firedOnce = !1, Ad.tracking[Ad.video.curVid.trackingRef + "_50"].firedOnce = !1, Ad.tracking[Ad.video.curVid.trackingRef + "_75"].firedOnce = !1
}, Ad.video.playbackHandler = function(a) {
    switch (a.type) {
        case "play":
            Ad.video.curVid.videoPlayed = !0, Ad.video.curVid.vidPlayedToEnd && (Ad.log(" -- replay has (probably) occured --"), Ad.video.curVid.vidPlayedToEnd = !1, Ad.addPixel(Ad.video.curVid.trackingRef + "_replay")), Ad.config.timerTrackingInterval || (Ad.config.timerTrackingInterval = window.setInterval(Ad.video.trackVideoTime, 500), Ad.addPixel(Ad.video.curVid.trackingRef + "_start"));
            break;
        case "pause":
            break;
        case "ended":
            Ad.video.videoEnded()
    }
}, Ad.video.trackVideoTime = function() {
    var a = Ad.video.curVid.vidElem.currentTime / Ad.video.curVid.vidElem.duration * 100;
    a >= 25 && Ad.addPixel(Ad.video.curVid.trackingRef + "_25"), a >= 50 && Ad.addPixel(Ad.video.curVid.trackingRef + "_50"), a >= 75 && Ad.addPixel(Ad.video.curVid.trackingRef + "_75"), a >= 99 && Ad.addPixel(Ad.video.curVid.trackingRef + "_100")
};
var Ad = Ad || {};
Ad.modules = Ad.modules || {}, Ad.modules.config = {
    modList: [],
    modScale: .6,
    scaleSpeed: .5,
    copyLines: [{
        title: "The X Factor",
        subTitle: "Live this weekend"
    }, {
        title: "Prey",
        subTitle: "Catch up"
    }, {
        title: "Thunderbirds Are Go",
        subTitle: "Catch up"
    }, {
        title: "The Mafia with Trevor McDonald",
        subTitle: "Box set"
    }, {
        title: "Las Vegas with Trevor McDonald",
        subTitle: "Catch up"
    }]
}, Ad.modules.setup = function() {
    Ad.log("module setup");
    for (var a = 0; a < Ad.dom.cls.showModule.length; a++) {
        var b = Ad.dom.cls.showModule[a],
            c = Ad.modules.config.modWid = b.offsetWidth,
            d = c * a,
            e = 250 + (Ad.config.width - c) / 2;
        Ad.modules.config.modList[a] = {
            name: b.id,
            elem: b,
            xPos: d,
            scaleables: b.querySelector(".imgLockup"),
            tweenX: -1 * (d - e),
            spinLines: b.getElementsByClassName("spinLine"),
            actionIcon: b.querySelector(".actionIcon")
        }, superTween.to(Ad.modules.config.modList[a].actionIcon, .1, {
            scaleX: 0,
            scaleY: 0
        }), b.style.left = d + "px", b.id === Ad.config.startingModule && (Ad.dom.moduleContainer.style.left = "1200px", Ad.modules.config.curMod = a), superTween.to(Ad.modules.config.modList[a].scaleables, .1, {
            scaleX: Ad.modules.config.modScale,
            scaleY: Ad.modules.config.modScale
        }), b.className = "showModule"
    }
    Ad.modules.listeners()
}, Ad.modules.listeners = function() {
    Ad.log("module listeners"), Ad.dom.rightArrowHotspot.addEventListener(Ad.config.listener, function() {
        Ad.modules.changeModule("right"), Ad.addPixel("rightArrowTap")
    }, !1), Ad.dom.leftArrowHotspot.addEventListener(Ad.config.listener, function() {
        Ad.modules.changeModule("left"), Ad.addPixel("leftArrowTap")
    }, !1), Ad.dom.invisiBtn_leftNav.addEventListener(Ad.config.listener, function() {
        Ad.modules.changeModule("left"), Ad.addPixel("leftArrowTap")
    }, !1), Ad.dom.invisiBtn_rightNav.addEventListener(Ad.config.listener, function() {
        Ad.modules.changeModule("right"), Ad.addPixel("rightArrowTap")
    }, !1)
}, Ad.modules.changeModule = function(a, b) {
    Ad.log("changeModule " + a), b ? (Ad.modules.config.curMod = b.modNum, Ad.modules.config.tweenSpeed = b.tweenSpeed || Ad.modules.config.scaleSpeed, Ad.modules.config.tweenEase = b.tweenEase || "Back.easeOut") : (Ad.modules.config.tweenSpeed = Ad.modules.config.scaleSpeed, Ad.modules.config.tweenEase = "Back.easeOut");
    var c = (Ad.dom.moduleContainer.offsetLeft, Ad.modules.config.modList),
        d = c[Ad.modules.config.curMod];
    d.elem.className = "showModule", "left" === a ? Ad.modules.config.curMod-- : "right" === a && Ad.modules.config.curMod++, superTween.to(d.actionIcon, .4, {
        scaleX: 0,
        scaleY: 0,
        ease: "Back.easeIn"
    }), superTween.to(d.scaleables, Ad.modules.config.scaleSpeed / 2, {
        scaleX: Ad.modules.config.modScale,
        scaleY: Ad.modules.config.modScale
    }), setTimeout(Ad.modules.changeModulePt2, 500 * Ad.modules.config.scaleSpeed)
}, Ad.modules.changeModulePt2 = function() {
    Ad.log("changeModulePt2");
    var a = Ad.modules.config.modList,
        b = a[Ad.modules.config.curMod].tweenX;
    Ad.modules.arrowControl(Ad.modules.config.curMod), Ad.modules.copyControl(Ad.modules.config.curMod), a[Ad.modules.config.curMod].elem.className = "showModule activeModule", superTween.to(Ad.dom.moduleContainer, Ad.modules.config.tweenSpeed, {
        x: b,
        ease: Ad.modules.config.tweenEase,
        onComplete: Ad.modules.changeModulePt3
    })
}, Ad.modules.changeModulePt3 = function() {
    Ad.log("changeModulePt3"), superTween.to(Ad.modules.config.modList[Ad.modules.config.curMod].scaleables, Ad.modules.config.scaleSpeed, {
        scaleX: 1,
        scaleY: 1,
        ease: "Back.easeOut"
    }), superTween.to(Ad.modules.config.modList[Ad.modules.config.curMod].actionIcon, .4, {
        scaleX: 1,
        scaleY: 1,
        ease: "Back.easeOut"
    })
}, Ad.modules.arrowControl = function(a) {
    Ad.dom.rightArrowHotspot.style.display = "block", Ad.dom.leftArrowHotspot.style.display = "block", Ad.dom.invisiBtn_leftNav.style.display = "block", Ad.dom.invisiBtn_rightNav.style.display = "block", 0 === a ? (Ad.dom.leftArrowHotspot.style.display = "none", Ad.dom.invisiBtn_leftNav.style.display = "none") : 4 === Ad.modules.config.curMod && (Ad.dom.rightArrowHotspot.style.display = "none", Ad.dom.invisiBtn_rightNav.style.display = "none")
}, Ad.modules.copyControl = function(a) {
    Ad.dom.controlTitle.innerHTML = Ad.modules.config.copyLines[a].title, Ad.dom.controlAction.innerHTML = Ad.modules.config.copyLines[a].subTitle
}, Ad.modules.visibilityControl = function(a) {
    Ad.log("visibilityControl");
    for (var b = [], c = 0; c < Ad.modules.config.modList.length; c++) c != a && c != a + 1 && c != a - 1 ? (superTween.set([Ad.modules.config.modList[c].elem], {
        display: "none"
    }), b.push(c)) : superTween.set([Ad.modules.config.modList[c].elem], {
        display: "block"
    });
    Ad.log(b)
};
var Ad = Ad || {};
Ad.cls = Ad.cls || {}, Ad.cls.DateLogic = function() {
    var a = {
            PreTXEp1Dated1: {
                videoId: "Starts_Wednesday_11th_Nov",
                txId: "PreTXEp1Dated1"
            },
            PreTXEp1Dated2: {
                videoId: "Starts_Wednesday_10pm",
                txId: "PreTXEp1Dated2"
            },
            TomorrowTXEp1: {
                videoId: "Starts_Wednesday_10pm",
                txId: "TomorrowTXEp1"
            },
            DayOfTXEp1: {
                videoId: "New_drama_tonight_10pm",
                txId: "DayOfTXEp1"
            },
            PreTXEp2Dated1: {
                videoId: "Starts_Wednesday_11th_Nov",
                txId: "PreTXEp1Dated1"
            },
            backup: {
                videoId: "Starts_Wednesday_11th_Nov",
                txId: "PreTXEp1Dated1"
            }
        },
        b = new Date,
        c = new Array("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"),
        d = new Array("Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"),
        e = b.getFullYear(),
        f = c[b.getMonth()],
        g = b.getDate(),
        h = (d[b.getDay()], a.backup);
    return 2015 === e ? "Nov" === f ? 4 >= g ? h = a.PreTXEp1Dated1 : g >= 5 && 9 >= g ? h = a.PreTXEp1Dated2 : 10 === g ? h = a.TomorrowTXEp1 : 11 === g ? h = a.DayOfTXEp1 : g >= 12 && (h = a.PreTXEp2Dated1) : "Dec" === f && (h = a.PreTXEp2Dated1) : h = a.PreTXEp2Dated1, Ad.log("Datelogic is showing " + h.txId + " copy and " + h.videoId + " video"), h
};
var Ad = Ad || {};
Ad.clickThroughURL = "http://www.itv.com/hub/itv", Ad.addPixel = function(a) {
    var b = Ad.tracking[a];
    if (void 0 === b.fireInfinite && (b.fireInfinite = !1), b.firedOnce === !1 || b.fireInfinite === !0) {
        b.func && (b.src = b.func());
        var c = b.src.replace("%timestamp%", (new Date).getTime()),
            d = new Image;
        d.src = c, d.style.display = "none";
        var e = document.getElementsByTagName("body")[0];
        e.appendChild(d), Ad.tracking[a].firedOnce = !0
    }
}, Ad.getCurMod = function() {
    return Ad.modules.config.modList[Ad.modules.config.curMod] ? Ad.modules.config.modList[Ad.modules.config.curMod].name : null
}, Ad.tracking = {
    impression: {
        src: "",
        firedOnce: !1
    },
    click1_destination: {
        src: "",
        firedOnce: !1
    },
    click2_download: {
        src: "",
        firedOnce: !1
    },
    leftArrowTap: {
        func: function() {
            return ""
            },
        firedOnce: !1,
        fireInfinite: !0
    },
    rightArrowTap: {
        func: function() {
            return ""
        },
        firedOnce: !1,
        fireInfinite: !0
    },
    video1_start: {
        src: "",
        firedOnce: !1
    },
    video1_replay: {
        src: "",
        firedOnce: !1,
        fireInfinite: !0
    },
    video1_25: {
        src: " ",
        firedOnce: !1
    },
    video1_50: {
        src: "",
        firedOnce: !1
    },
    video1_75: {
        src: "",
        firedOnce: !1
    },
    video1_100: {
        src: "",
        firedOnce: !1
    },
    video2_start: {
        src: "",
        firedOnce: !1
    },
    video2_replay: {
        src: "",
        firedOnce: !1,
        fireInfinite: !0
    },
    video2_25: {
        src: "",
        firedOnce: !1
    },
    video2_50: {
        src: "",
        firedOnce: !1
    },
    video2_75: {
        src: "",
        firedOnce: !1
    },
    video2_100: {
        src: "",
        firedOnce: !1
    },
    video3_start: {
        src: "",
        firedOnce: !1
    },
    video3_replay: {
        src: "",
        firedOnce: !1,
        fireInfinite: !0
    },
    video3_25: {
        src: "",
        firedOnce: !1
    },
    video3_50: {
        src: "",
        firedOnce: !1
    },
    video3_75: {
        src: "",
        firedOnce: !1
    },
    video3_100: {
        src: "",
        firedOnce: !1
    },
    video4_start: {
        src: "",
        firedOnce: !1
    },
    video4_replay: {
        src: "",
        firedOnce: !1,
        fireInfinite: !0
    },
    video4_25: {
        src: "",
        firedOnce: !1
    },
    video4_50: {
        src: "",
        firedOnce: !1
    },
    video4_75: {
        src: "",
        firedOnce: !1
    },
    video4_100: {
        src: "",
        firedOnce: !1
    },
    video5_start: {
        src: "",
        firedOnce: !1
    },
    video5_replay: {
        src: "",
        firedOnce: !1,
        fireInfinite: !0
    },
    video5_25: {
        src: "",
        firedOnce: !1
    },
    video5_50: {
        src: "",
        firedOnce: !1
    },
    video5_75: {
        src: "",
        firedOnce: !1
    },
    video5_100: {
        src: "",
        firedOnce: !1
    }
};
var Ad = Ad || {};
Ad.dom = Ad.dom || {}, Ad.dom.cls = Ad.dom.cls || {}, Ad.config = {
    width: 1024,
    height: 768,
    debugMode: 0,
    adRunning: !0,
    adOnline: !0,
    logoDotAnimTime: .3,
    logoDotDelay: .1,
    marquePulseTime: .2,
    textTweenTime: .6,
    textSlideAmt: 20,
    explodeRad: [-100, 200],
    explodelength: 1,
    hasOfflineMode: !0,
    startingModule: "module_boxSet",
    listener: "click"
}, Ad.start = function() {
    Ad.log("Ad.start"), Ad.config.onloadFired = !0, Ad.addPixel("impression"), Ad.init()
}, Ad.init = function() {
    var a = ["adMain", "coverallBtn", "frame1", "frame2", "upfrontDots", "dotMask", "logoDot_ITVDot", "logoDot_ITV2Dot", "logoDot_ITVBeDot", "logoDot_ITV3Dot", "logoDot_ITV4Dot", "logoDot_CITVDot", "logoDot_radialDots", "smlLogoDot_green", "smlLogoDot_salmon", "smlLogoDot_purple", "smlLogoDot_grey", "smlLogoDot_yellow", "smlLogoDot_maroon", "logoDot_centerDot", "logoDot_explosionDots", "logoDot_ITVLogoLrg_copy", "logoDot_ITVLogoLrg_subCopy", "logoDot_ITVLogoSml", "logoDot_ITVLogoLrg", "img_logoDot_ITVLogo_justDot", "img_logoDot_ITVLogo_sansDot", "moduleContainer", "rightArrowHotspot", "leftArrowHotspot", "controlTitle", "controlAction", "staticLogo", "staticLogo_radials", "appStoreBtn", "invisiBtn_leftNav", "invisiBtn_rightNav", "moduleControl", "clickArea", "module_catchup", "showImg_catchUp", "vidHotspot_catchUp", "actionIcon_catchUp", "module_boxSet", "showImg_boxSet", "vidHotspot_boxSet", "actionIcon_boxSet", "module_series", "showImg_series", "vidHotspot_series", "actionIcon_series", "module_live", "showImg_live", "vidHotspot_live", "actionIcon_live", "module_premiere", "showImg_premiere", "vidHotspot_premiere", "actionIcon_premiere", "videoOverlay", "bgTint", "vidHolder", "video_catchUp", "video_boxSet", "video_series", "video_live", "video_premiere", "videoCloseIcon"],
        b = ["exploDot", "showModule", "onlyOnline"];
    Ad.utils.getDomRefs(a), Ad.utils.getDomClassRefs(b), Ad.config.hasOfflineMode && (Ad.log("Ad offline mode " + Ad.config.hasOfflineMode), window.addEventListener("offline", Ad.wentOffline), window.addEventListener("online", Ad.wentOnline), navigator.onLine || Ad.wentOffline()), Ad.goTo(1, 10)
}, Ad.wentOffline = function() {
    Ad.log("ad went OFF the line"), Ad.config.adOnline = !1;
    for (var a = 0; a < Ad.dom.cls.onlyOnline.length; a++) superTween.set([Ad.dom.cls.onlyOnline[a]], {
        display: "none"
    })
}, Ad.wentOnline = function() {
    Ad.log("ad went ON the line"), Ad.config.adOnline = !0;
    for (var a = 0; a < Ad.dom.cls.onlyOnline.length; a++) superTween.set([Ad.dom.cls.onlyOnline[a]], {
        display: "block"
    })
}, window.onload = Ad.start;
